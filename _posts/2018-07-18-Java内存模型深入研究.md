---
layout:  post
title:		Java内存模型深入研究
subtitle:		Java内存模型深入研究
date:     2018-07-18
author:   Fogeeks
header-img: img/post-bg-re-vs-ng2.jpg
catalog: true
tags:
    - 内存模型
 
#	Java内存模型深入研究
 
 多核系统中将数据放入内存缓存起来可以提高并发性能，但是这样会带来新的**缓存一致性**问题，内存模型提供了访问变量的规则实现了高速读写的同时保证并发安全
 jmm是基于**共享内存**通信机制，每个线程都有自己**工作内存区**，数据发生更改时会将数据从工作内存刷新到主内存
 
 jmm有三个特性**原子性可见性有序性**，
  jmm有8种基础数据类型的**原子操作**来保证内存数据交互的安全，lock（锁定）、unlock（解锁）、read（读取）、load（载入）、use（使用）、assign（赋值）、store（存储）、write（写入）
  可见性指某个线程更改了共享变量会被其他线程发现，这里应用到的是volatile的可见性内存语义，有它修饰的变量被更改时会立即刷新到主内存，每次使用去主内存刷新，这样就保证了变量对于多线程的可见性 synchronized和final都可以实现
  有序性指的是在自己工作线程看到的操作都是有序的但是看其他的线程操作是无序因为有指令重排序，
  
  指令重排序值得是编译器要优化操作执行效率可能会颠倒指令次序，但是有时候这种优化会带来并发安全问题，所以这里要禁止，用到的是volatile的第二种内存语义，禁止指令重排序，synchronized也可以实现 ， 如单例模式中的双锁检查实现线程安全的单例模式
  
  
  
  
 
 
 
 
 
 
 
 
 
 
 